@model IEnumerable<ProductViewModel>

@{
    ViewBag.Title = "Index";
    var lastProduct = Model.LastOrDefault();
    var categories = ViewBag.cats as IEnumerable<CategoryViewModel>;
}


<!-- Banner -->

<div class="banner" style="border-bottom: 3px solid cornflowerblue;">
    <div class="banner_background"></div>
    <div class="container fill_height">
        <div class="row fill_height">
            <div class="banner_product_image">
                <img src="data:image/png;base64,@lastProduct.Image" alt="" style="width: 35%; float: right;" />
            </div>
            <div class="col-lg-5 offset-lg-4 fill_height">
                <div class="banner_content">
                    <h1 class="banner_text">@lastProduct.Name</h1>
                    <div class="banner_price">@lastProduct.Price.ToString("0.#####") LE</div>
                    <div class="banner_product_name">@categories.SingleOrDefault(ww => ww.Id == lastProduct.CategoryId)</div>
                    <div class="button banner_button">@Html.ActionLink("Buy Now", "ProductDetails", "Shop",htmlAttributes:new { } ,routeValues:new { id=firstProduct.Id})</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Characteristics -->

<div class="characteristics" style="border-bottom: 3px solid cornflowerblue;">
    <div class="container">
        <div class="row">
            <!-- Char. Item -->
            <div class="col-lg-6 col-md-6 char_col">
                <div class="char_item d-flex flex-row align-items-center justify-content-start">
                    <div class="char_icon">
                        <img src="~/Images/char_1.png" alt="" />
                    </div>
                    <div class="char_content">
                        <div class="char_title">Fast Delivery</div>
                        <div class="char_subtitle">12.5 % Order total</div>
                    </div>
                </div>
            </div>

            <!-- Char. Item -->
            <div class="col-lg-6 col-md-6 char_col">
                <div class="char_item d-flex flex-row align-items-center justify-content-start">
                    <div class="char_icon">
                        <img src="~/Images/char_3.png" alt="" />
                    </div>
                    <div class="char_content">
                        <div class="char_title">Cash on delivey Payment</div>
                        <div class="char_subtitle">Easy payment way</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<!-- Trends -->

<div class="trends" style="border-bottom: 3px solid cornflowerblue;">
    <div class="trends_background"
         style="background-image: url(../../Images/trends_background.jpg);"></div>
    <div class="trends_overlay"></div>
    <div class="container">
        <div class="row">
            <!-- Trends Content -->
            <div class="col-lg-3">
                <div class="trends_container">
                    <h2 class="trends_title">New in Medical Store</h2>
                    <div class="trends_text">
                        <p>
                            We have the latest devices at excellent prices
                        </p>
                    </div>
                    <div class="trends_slider_nav">
                        <div class="trends_prev trends_nav">
                            <i class="fas fa-angle-left ml-auto"></i>
                        </div>
                        <div class="trends_next trends_nav">
                            <i class="fas fa-angle-right ml-auto"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Trends Slider -->
            <div class="col-lg-9">
                <div class="trends_slider_container">
                    <!-- Trends Slider -->

                    <div class="owl-carousel owl-theme trends_slider">
                        <!-- Trends Slider Item -->
                        @foreach (var item in Model)
                        {
                            var category = categories.SingleOrDefault(ww => ww.Id == item.CategoryId);
                            <div class="owl-item active">
                                <div class="trends_item is_new">
                                    <div class="trends_image d-flex flex-column align-items-center justify-content-center">
                                        <img src="data:image/png;base64,@item.Image" alt="" />
                                    </div>
                                    <div class="trends_content">
                                        <div class="trends_category">
                                            @category.Name
                                        </div>
                                        <div class="trends_info clearfix">
                                            <div class="trends_name">
                                                @item.Name
                                            </div>
                                            <div class="trends_price">@item.Price.ToString("0.#####") LE</div>
                                        </div>
                                    </div>
                                    <ul class="trends_marks">
                                        <li class="trends_mark trends_discount">-25%</li>
                                        <li class="trends_mark trends_new">new</li>
                                    </ul>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Recently Viewed -->

<div class="viewed">
    <div class="container">
        <div class="row">
            <div class="col">
                <div class="viewed_title_container">
                    <h3 class="viewed_title">Recently Viewed</h3>
                    <div class="viewed_nav_container">
                        <div class="viewed_nav viewed_prev">
                            <i class="fas fa-chevron-left"></i>
                        </div>
                        <div class="viewed_nav viewed_next">
                            <i class="fas fa-chevron-right"></i>
                        </div>
                    </div>
                </div>

                <div class="viewed_slider_container">
                    <!-- Recently Viewed Slider -->

                    <div class="owl-carousel owl-theme viewed_slider">
                        <!-- Recently Viewed Item -->
                        @foreach (var item in Model)
                                {
                                    var category = categories.SingleOrDefault(ww => ww.Id == item.CategoryId);
                            <div class="owl-item">
                                <div class="viewed_item discount d-flex flex-column align-items-center justify-content-center text-center">
                                    <div class="viewed_image">
                                        <img src="data:image/png;base64,@item.Image" alt="" />
                                    </div>
                                    <div class="viewed_content text-center">
                                        <div class="viewed_price">$225<span>@item.Price.ToString("0.#####") LE</span></div>
                                        <div class="viewed_name">
                                            <a href="">@item.Name</a>
                                        </div>
                                    </div>
                                    <ul class="item_marks">
                                        <li class="item_mark item_discount">-25%</li>
                                        <li class="item_mark item_new">new</li>
                                    </ul>
                                </div>
                            </div>
                        }

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
